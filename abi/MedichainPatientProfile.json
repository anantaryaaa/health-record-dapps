{"abi":[{"type":"constructor","inputs":[{"name":"_patientIdentityContract","type":"address","internalType":"address"},{"name":"_trustedForwarder","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"accessCount","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"deleteProfile","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAccessCount","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getAccessHistory","inputs":[],"outputs":[{"name":"","type":"tuple[]","internalType":"struct MedichainPatientProfile.AccessLog[]","components":[{"name":"accessor","type":"address","internalType":"address"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"accessType","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"getAccessHistoryFor","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct MedichainPatientProfile.AccessLog[]","components":[{"name":"accessor","type":"address","internalType":"address"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"accessType","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"getProfile","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"encryptedData","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"getProfileMetadata","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"exists","type":"bool","internalType":"bool"},{"name":"createdAt","type":"uint256","internalType":"uint256"},{"name":"updatedAt","type":"uint256","internalType":"uint256"},{"name":"dataLength","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getProfileView","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"encryptedData","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getRecentAccessLogs","inputs":[{"name":"patient","type":"address","internalType":"address"},{"name":"count","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct MedichainPatientProfile.AccessLog[]","components":[{"name":"accessor","type":"address","internalType":"address"},{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"accessType","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"hasProfile","inputs":[{"name":"patient","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isTrustedForwarder","inputs":[{"name":"forwarder","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"patientIdentityContract","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IPatientIdentity"}],"stateMutability":"view"},{"type":"function","name":"setProfile","inputs":[{"name":"encryptedData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"trustedForwarder","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"updateProfile","inputs":[{"name":"encryptedData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"ProfileAccessed","inputs":[{"name":"patient","type":"address","indexed":true,"internalType":"address"},{"name":"accessor","type":"address","indexed":true,"internalType":"address"},{"name":"accessType","type":"string","indexed":false,"internalType":"string"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProfileCreated","inputs":[{"name":"patient","type":"address","indexed":true,"internalType":"address"},{"name":"dataLength","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProfileDeleted","inputs":[{"name":"patient","type":"address","indexed":true,"internalType":"address"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProfileUpdated","inputs":[{"name":"patient","type":"address","indexed":true,"internalType":"address"},{"name":"dataLength","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"EmptyProfileData","inputs":[]},{"type":"error","name":"InvalidPatientIdentityContract","inputs":[]},{"type":"error","name":"NotAuthorizedToAccess","inputs":[]},{"type":"error","name":"NotPatientOwner","inputs":[]},{"type":"error","name":"PatientNotRegistered","inputs":[]},{"type":"error","name":"ProfileAlreadyExists","inputs":[]},{"type":"error","name":"ProfileNotFound","inputs":[]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]}],"bytecode":{"object":"0x60c0346100e057601f61157538819003918201601f19168301916001600160401b038311848410176100e45780849260409485528339810103126100e057610052602061004b836100f8565b92016100f8565b60017f9b779b17422d0df92223018b32b4d1fa46e071723d6817e2486d003becc55f00556080526001600160a01b031680156100ce5760a052604051611468908161010d823960805181818161046b0152818161071601526113e4015260a05181818160d50152818161018f015281816106630152610cea0152f35b60405163a631b50160e01b8152600490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffd5b51906001600160a01b03821682036100e05756fe604060808152600480361015610013575f80fd5b5f3560e01c90816307b2b35814610d695781630f53a470146109f8578163284fd724146109495781633354c373146107ba578163403e27071461073d578163572b6c05146106ec57816367b8bdab146105a45781636d4540eb1461049a5781637d91220b146103e85781637da0a87714610457578163859609191461041f578163976c6602146103e8578163a4a9bd361461014457508063a787c80b146101085763e653b1de146100c2575f80fd5b34610104575f36600319011261010457517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b5034610104576020366003190112610104576020906001600160a01b0361012d610ebf565b165f526001825260ff815f20541690519015158152f35b9050346101045761015436610ed5565b91909261015f61138a565b6101676113b9565b81516338dab3e960e11b81526001600160a01b039182168482015290939060209081816024817f00000000000000000000000000000000000000000000000000000000000000008a165afa9081156103de575f916103a9575b501561039a57846101cf6113b9565b165f5260019485825260ff845f20541661038a57821561037a576101f16113b9565b1693845f525f8252835f209067ffffffffffffffff841161036757506102218361021b8354610fc1565b836111b2565b5f601f84116001146102e8578380610272927fc217045a97e7bc884b83169b28234ad12bb901baea4850d44d7878b0f22abbc598999a5f926102dd575b50508160011b915f199060031b1c19161790565b90555b825161028081610f4f565b86815260038282014281528583014281526060840191868352895f528a8652875f209451151560ff80198754169116178555518a8501555160028401555191015582519182524290820152a25f8051602061141383398151915255005b013590505f8061025e565b601f19841697825f52835f20915f5b8a81106103525750857fc217045a97e7bc884b83169b28234ad12bb901baea4850d44d7878b0f22abbc598999a10610339575b5050508683811b019055610275565b01355f19600386901b60f8161c191690555f808061032a565b828201358455928901929085019085016102f7565b604190634e487b7160e01b5f525260245ffd5b5050505163f7faf67760e01b8152fd5b505050516337450d8560e11b8152fd5b505051637d9ee48b60e11b8152fd5b90508181813d83116103d7575b6103c08183610f87565b81010312610104576103d1906110cf565b5f6101c0565b503d6103b6565b84513d5f823e3d90fd5b8234610104576020366003190112610104576020906001600160a01b0361040d610ebf565b165f5260038252805f20549051908152f35b82346101045780600319360112610104576104539061044861043f610ebf565b60243590611238565b905191829182610e38565b0390f35b8234610104575f36600319011261010457517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b905034610104575f366003190112610104576104b461138a565b6001600160a01b0390816104c66113b9565b165f52600160205260ff835f20541615610596575060207f236eb7515b00733d8ade7456155d53d63c2fa66bec6437ddff6ab3fc71e1e324916105076113b9565b1692835f525f8252805f2061051c8154610fc1565b908161055a575b5050835f52600182525f600382822060ff198154168155426002820155015551428152a260015f8051602061141383398151915255005b81601f5f93116001146105715750555b5f80610523565b90808391825261058f601f878420940160051c84016001850161119c565b555561056a565b82516372da560b60e01b8152fd5b8234610104576020366003190112610104576105be610ebf565b6001600160a01b038082165f818152600160205284902054909492919060ff16156106dc576105eb6113b9565b91858284160361062e575b61045361061586885f525f60205261061c815f20825193848092610ff9565b0383610f87565b51918291602083526020830190610e13565b84516362e1f74560e01b81526001600160a01b039182168582019081529190931660208201525f9183918290819060400103917f0000000000000000000000000000000000000000000000000000000000000000165afa9081156106d2575f916106af575b50156106a1578080806105f6565b905163b978468760e01b8152fd5b6106cb91503d805f833e6106c38183610f87565b8101906110dc565b5084610693565b83513d5f823e3d90fd5b83516372da560b60e01b81528390fd5b823461010457602036600319011261010457602090610709610ebf565b60018060a01b03915191807f0000000000000000000000000000000000000000000000000000000000000000169116148152f35b8234610104576020366003190112610104576080906001600160a01b03610762610ebf565b165f5260016020526060815f2082519261077b84610f4f565b60ff8254161515938481526001830154908160208201526003600285015494858584015201549485910152815194855260208501528301526060820152f35b905034610104576107ca36610ed5565b9190926107d561138a565b6001600160a01b0392836107e76113b9565b165f5260019360209085825260ff845f2054161561093957821561037a5761080d6113b9565b1693845f525f8252835f209067ffffffffffffffff841161036757506108378361021b8354610fc1565b5f601f84116001146108ba578380610887927f05826151879c9a557068ba4e389ba7f00512db472cc81778ea86696b2b0f5afd98999a5f926102dd5750508160011b915f199060031b1c19161790565b90555b845f52858152816003845f20426002820155015582519182524290820152a25f8051602061141383398151915255005b601f19841697825f52835f20915f5b8a81106109245750857f05826151879c9a557068ba4e389ba7f00512db472cc81778ea86696b2b0f5afd98999a1061090b575b5050508683811b01905561088a565b01355f19600386901b60f8161c191690555f80806108fc565b828201358455928901929085019085016108c9565b505050516372da560b60e01b8152fd5b90503461010457602090602060031936011261010457610967610ebf565b906109706113b9565b6001600160a01b0392831692168290036109ea57505f526002602052815f2080549061099b82610fa9565b926109a885519485610f87565b82845260208401915f5260205f205f925b8484106109cd578651806104538882610e38565b6003836001926109dc8561108a565b8152019201930192906109b9565b83516302ec023d60e51b8152fd5b905034610104576020908160031936011261010457610a15610ebf565b610a1d61138a565b60018060a01b039081811691825f5260019384865260ff875f20541615610d5b57610a466113b9565b9282841693858514918215610cb6575b505015610c96578651610a6881610f6b565b8181526329a2a62360e11b87820152915b845f5260028752875f2090885190610a9082610f1f565b858252888201904282528a83019386855280549068010000000000000000821015610c835790610ac4918b820181556111f7565b939093610c71575183546001600160a01b0319169116178255518782015590518051600292909201919067ffffffffffffffff8211610c5e57610b1182610b0b8554610fc1565b856111b2565b8890601f8311600114610c0057610b3e92915f9183610bf55750508160011b915f199060031b1c19161790565b90555b835f5260038652865f20908154905f198214610be25750937f1a813a438416ffea231c5ef302abf56cf1dfdcce510f8e130fb3e65f0c7cceb5610b9f829488969461045399610bbd9c99019055875191829189835289830190610e13565b428b8301520390a35f525f8452610bc4825f20835196878092610ff9565b0386610f87565b5f805160206114138339815191525551928284938452830190610e13565b601190634e487b7160e01b5f525260245ffd5b015190505f8061025e565b889291601f19831691855f528b5f20925f5b8d828210610c485750508411610c30575b505050811b019055610b41565b01515f1960f88460031b161c191690555f8080610c23565b8385015186558d97909501949384019301610c12565b604184634e487b7160e01b5f525260245ffd5b5f86634e487b7160e01b82525260245ffd5b604187634e487b7160e01b5f525260245ffd5b8651610ca181610f6b565b818152631491505160e21b8782015291610a79565b89516362e1f74560e01b81526001600160a01b039182168582019081529190921660208201525f90829081906040010381877f0000000000000000000000000000000000000000000000000000000000000000165afa908115610d51575f91610d36575b5015610d27575f80610a56565b50865163b978468760e01b8152fd5b610d4a91503d805f833e6106c38183610f87565b505f610d1a565b89513d5f823e3d90fd5b86516372da560b60e01b8152fd5b8234610104575f366003190112610104576001600160a01b03610d8a6113b9565b165f5260206002602052815f20805490610da382610fa9565b92610db085519485610f87565b82845260208401915f5260205f205f925b848410610dd5578651806104538882610e38565b600383600192610de48561108a565b815201920193019290610dc1565b5f5b838110610e035750505f910152565b8181015183820152602001610df4565b90602091610e2c81518092818552858086019101610df2565b601f01601f1916010190565b6020808201908083528351809252604092604081018260408560051b8401019601945f925b858410610e6e575050505050505090565b909192939495968580610eae600193603f198682030188528b5187606091878060a01b038151168452858101518685015201519181898201520190610e13565b990194019401929594939190610e5d565b600435906001600160a01b038216820361010457565b9060206003198301126101045760043567ffffffffffffffff9283821161010457806023830112156101045781600401359384116101045760248483010111610104576024019190565b6060810190811067ffffffffffffffff821117610f3b57604052565b634e487b7160e01b5f52604160045260245ffd5b6080810190811067ffffffffffffffff821117610f3b57604052565b6040810190811067ffffffffffffffff821117610f3b57604052565b90601f8019910116810190811067ffffffffffffffff821117610f3b57604052565b67ffffffffffffffff8111610f3b5760051b60200190565b90600182811c92168015610fef575b6020831014610fdb57565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610fd0565b80545f939261100782610fc1565b918282526020936001916001811690815f1461106b575060011461102d575b5050505050565b90939495505f92919252835f2092845f945b83861061105757505050500101905f80808080611026565b80548587018301529401938590820161103f565b60ff19168685015250505090151560051b010191505f80808080611026565b9060026040805161109a81610f1f565b6110cb819560018060a01b038154168352600181015460208401526110c484518096819301610ff9565b0384610f87565b0152565b5190811515820361010457565b919091604081840312610104576110f2816110cf565b9260208083015167ffffffffffffffff93848211610104570192608084840312610104576040519361112385610f4f565b61112c816110cf565b8552828101518386015260408101516040860152606081015190828211610104570183601f82011215610104578051918211610f3b5760405193611179601f8401601f1916850186610f87565b82855283838301011161010457826111949385019101610df2565b606082015290565b8181106111a7575050565b5f815560010161119c565b9190601f81116111c157505050565b6111eb925f5260205f20906020601f840160051c830193106111ed575b601f0160051c019061119c565b565b90915081906111de565b8054821015611210575f52600360205f20910201905f90565b634e487b7160e01b5f52603260045260245ffd5b80518210156112105760209160051b010190565b6112406113b9565b6001600160a01b039182169116819003611378575f5260206002602052604091825f2080549182158015611370575b61134a5782811115611344575081925b61128884610fa9565b9461129581519687610f87565b848652601f196112a486610fa9565b01905f5b82811061131d5750505050828203918211611309575f5b8381106112cd575050505090565b80830190818411611309576112ed6112e7600193856111f7565b5061108a565b6112f78288611224565b526113028187611224565b50016112bf565b634e487b7160e01b5f52601160045260245ffd5b8390825161132a81610f1f565b5f81525f8382015260608482015282828b010152016112a8565b9261127f565b50505050805190602082019082821067ffffffffffffffff831117610f3b57525f815290565b50801561126f565b6040516302ec023d60e51b8152600490fd5b5f8051602061141383398151915260028154146113a75760029055565b604051633ee5aeb560e01b8152600490fd5b6014361015806113e0575b156113dc576013193601368111610104573560601c90565b3390565b50337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316146113c456fe9b779b17422d0df92223018b32b4d1fa46e071723d6817e2486d003becc55f00a2646970667358221220aa8cedfb846d9c039fb4123f5b28407bb3168e2545fe7f8f293111404bc56ab864736f6c63430008180033","sourceMap":"1024:19352:53:-:0;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;-1:-1:-1;;;;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;2365:1:38;1505:66;2365:1;1500:37:24;;-1:-1:-1;;;;;1024:19352:53;8398:38;;8394:108;;8511:68;;1024:19352;;;;;;;;1500:37:24;1024:19352:53;;;;;;;;;;;;;;;8511:68;1024:19352;;;;;;;;;;;;;;;;;;;;;8394:108;1024:19352;;-1:-1:-1;;;8459:32:53;;;;;1024:19352;-1:-1:-1;1024:19352:53;;;;;;-1:-1:-1;1024:19352:53;;;;;-1:-1:-1;1024:19352:53;;;;-1:-1:-1;;;;;1024:19352:53;;;;;;:::o","linkReferences":{}},"deployedBytecode":{"object":"0x604060808152600480361015610013575f80fd5b5f3560e01c90816307b2b35814610d695781630f53a470146109f8578163284fd724146109495781633354c373146107ba578163403e27071461073d578163572b6c05146106ec57816367b8bdab146105a45781636d4540eb1461049a5781637d91220b146103e85781637da0a87714610457578163859609191461041f578163976c6602146103e8578163a4a9bd361461014457508063a787c80b146101085763e653b1de146100c2575f80fd5b34610104575f36600319011261010457517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b5f80fd5b5034610104576020366003190112610104576020906001600160a01b0361012d610ebf565b165f526001825260ff815f20541690519015158152f35b9050346101045761015436610ed5565b91909261015f61138a565b6101676113b9565b81516338dab3e960e11b81526001600160a01b039182168482015290939060209081816024817f00000000000000000000000000000000000000000000000000000000000000008a165afa9081156103de575f916103a9575b501561039a57846101cf6113b9565b165f5260019485825260ff845f20541661038a57821561037a576101f16113b9565b1693845f525f8252835f209067ffffffffffffffff841161036757506102218361021b8354610fc1565b836111b2565b5f601f84116001146102e8578380610272927fc217045a97e7bc884b83169b28234ad12bb901baea4850d44d7878b0f22abbc598999a5f926102dd575b50508160011b915f199060031b1c19161790565b90555b825161028081610f4f565b86815260038282014281528583014281526060840191868352895f528a8652875f209451151560ff80198754169116178555518a8501555160028401555191015582519182524290820152a25f8051602061141383398151915255005b013590505f8061025e565b601f19841697825f52835f20915f5b8a81106103525750857fc217045a97e7bc884b83169b28234ad12bb901baea4850d44d7878b0f22abbc598999a10610339575b5050508683811b019055610275565b01355f19600386901b60f8161c191690555f808061032a565b828201358455928901929085019085016102f7565b604190634e487b7160e01b5f525260245ffd5b5050505163f7faf67760e01b8152fd5b505050516337450d8560e11b8152fd5b505051637d9ee48b60e11b8152fd5b90508181813d83116103d7575b6103c08183610f87565b81010312610104576103d1906110cf565b5f6101c0565b503d6103b6565b84513d5f823e3d90fd5b8234610104576020366003190112610104576020906001600160a01b0361040d610ebf565b165f5260038252805f20549051908152f35b82346101045780600319360112610104576104539061044861043f610ebf565b60243590611238565b905191829182610e38565b0390f35b8234610104575f36600319011261010457517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b905034610104575f366003190112610104576104b461138a565b6001600160a01b0390816104c66113b9565b165f52600160205260ff835f20541615610596575060207f236eb7515b00733d8ade7456155d53d63c2fa66bec6437ddff6ab3fc71e1e324916105076113b9565b1692835f525f8252805f2061051c8154610fc1565b908161055a575b5050835f52600182525f600382822060ff198154168155426002820155015551428152a260015f8051602061141383398151915255005b81601f5f93116001146105715750555b5f80610523565b90808391825261058f601f878420940160051c84016001850161119c565b555561056a565b82516372da560b60e01b8152fd5b8234610104576020366003190112610104576105be610ebf565b6001600160a01b038082165f818152600160205284902054909492919060ff16156106dc576105eb6113b9565b91858284160361062e575b61045361061586885f525f60205261061c815f20825193848092610ff9565b0383610f87565b51918291602083526020830190610e13565b84516362e1f74560e01b81526001600160a01b039182168582019081529190931660208201525f9183918290819060400103917f0000000000000000000000000000000000000000000000000000000000000000165afa9081156106d2575f916106af575b50156106a1578080806105f6565b905163b978468760e01b8152fd5b6106cb91503d805f833e6106c38183610f87565b8101906110dc565b5084610693565b83513d5f823e3d90fd5b83516372da560b60e01b81528390fd5b823461010457602036600319011261010457602090610709610ebf565b60018060a01b03915191807f0000000000000000000000000000000000000000000000000000000000000000169116148152f35b8234610104576020366003190112610104576080906001600160a01b03610762610ebf565b165f5260016020526060815f2082519261077b84610f4f565b60ff8254161515938481526001830154908160208201526003600285015494858584015201549485910152815194855260208501528301526060820152f35b905034610104576107ca36610ed5565b9190926107d561138a565b6001600160a01b0392836107e76113b9565b165f5260019360209085825260ff845f2054161561093957821561037a5761080d6113b9565b1693845f525f8252835f209067ffffffffffffffff841161036757506108378361021b8354610fc1565b5f601f84116001146108ba578380610887927f05826151879c9a557068ba4e389ba7f00512db472cc81778ea86696b2b0f5afd98999a5f926102dd5750508160011b915f199060031b1c19161790565b90555b845f52858152816003845f20426002820155015582519182524290820152a25f8051602061141383398151915255005b601f19841697825f52835f20915f5b8a81106109245750857f05826151879c9a557068ba4e389ba7f00512db472cc81778ea86696b2b0f5afd98999a1061090b575b5050508683811b01905561088a565b01355f19600386901b60f8161c191690555f80806108fc565b828201358455928901929085019085016108c9565b505050516372da560b60e01b8152fd5b90503461010457602090602060031936011261010457610967610ebf565b906109706113b9565b6001600160a01b0392831692168290036109ea57505f526002602052815f2080549061099b82610fa9565b926109a885519485610f87565b82845260208401915f5260205f205f925b8484106109cd578651806104538882610e38565b6003836001926109dc8561108a565b8152019201930192906109b9565b83516302ec023d60e51b8152fd5b905034610104576020908160031936011261010457610a15610ebf565b610a1d61138a565b60018060a01b039081811691825f5260019384865260ff875f20541615610d5b57610a466113b9565b9282841693858514918215610cb6575b505015610c96578651610a6881610f6b565b8181526329a2a62360e11b87820152915b845f5260028752875f2090885190610a9082610f1f565b858252888201904282528a83019386855280549068010000000000000000821015610c835790610ac4918b820181556111f7565b939093610c71575183546001600160a01b0319169116178255518782015590518051600292909201919067ffffffffffffffff8211610c5e57610b1182610b0b8554610fc1565b856111b2565b8890601f8311600114610c0057610b3e92915f9183610bf55750508160011b915f199060031b1c19161790565b90555b835f5260038652865f20908154905f198214610be25750937f1a813a438416ffea231c5ef302abf56cf1dfdcce510f8e130fb3e65f0c7cceb5610b9f829488969461045399610bbd9c99019055875191829189835289830190610e13565b428b8301520390a35f525f8452610bc4825f20835196878092610ff9565b0386610f87565b5f805160206114138339815191525551928284938452830190610e13565b601190634e487b7160e01b5f525260245ffd5b015190505f8061025e565b889291601f19831691855f528b5f20925f5b8d828210610c485750508411610c30575b505050811b019055610b41565b01515f1960f88460031b161c191690555f8080610c23565b8385015186558d97909501949384019301610c12565b604184634e487b7160e01b5f525260245ffd5b5f86634e487b7160e01b82525260245ffd5b604187634e487b7160e01b5f525260245ffd5b8651610ca181610f6b565b818152631491505160e21b8782015291610a79565b89516362e1f74560e01b81526001600160a01b039182168582019081529190921660208201525f90829081906040010381877f0000000000000000000000000000000000000000000000000000000000000000165afa908115610d51575f91610d36575b5015610d27575f80610a56565b50865163b978468760e01b8152fd5b610d4a91503d805f833e6106c38183610f87565b505f610d1a565b89513d5f823e3d90fd5b86516372da560b60e01b8152fd5b8234610104575f366003190112610104576001600160a01b03610d8a6113b9565b165f5260206002602052815f20805490610da382610fa9565b92610db085519485610f87565b82845260208401915f5260205f205f925b848410610dd5578651806104538882610e38565b600383600192610de48561108a565b815201920193019290610dc1565b5f5b838110610e035750505f910152565b8181015183820152602001610df4565b90602091610e2c81518092818552858086019101610df2565b601f01601f1916010190565b6020808201908083528351809252604092604081018260408560051b8401019601945f925b858410610e6e575050505050505090565b909192939495968580610eae600193603f198682030188528b5187606091878060a01b038151168452858101518685015201519181898201520190610e13565b990194019401929594939190610e5d565b600435906001600160a01b038216820361010457565b9060206003198301126101045760043567ffffffffffffffff9283821161010457806023830112156101045781600401359384116101045760248483010111610104576024019190565b6060810190811067ffffffffffffffff821117610f3b57604052565b634e487b7160e01b5f52604160045260245ffd5b6080810190811067ffffffffffffffff821117610f3b57604052565b6040810190811067ffffffffffffffff821117610f3b57604052565b90601f8019910116810190811067ffffffffffffffff821117610f3b57604052565b67ffffffffffffffff8111610f3b5760051b60200190565b90600182811c92168015610fef575b6020831014610fdb57565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610fd0565b80545f939261100782610fc1565b918282526020936001916001811690815f1461106b575060011461102d575b5050505050565b90939495505f92919252835f2092845f945b83861061105757505050500101905f80808080611026565b80548587018301529401938590820161103f565b60ff19168685015250505090151560051b010191505f80808080611026565b9060026040805161109a81610f1f565b6110cb819560018060a01b038154168352600181015460208401526110c484518096819301610ff9565b0384610f87565b0152565b5190811515820361010457565b919091604081840312610104576110f2816110cf565b9260208083015167ffffffffffffffff93848211610104570192608084840312610104576040519361112385610f4f565b61112c816110cf565b8552828101518386015260408101516040860152606081015190828211610104570183601f82011215610104578051918211610f3b5760405193611179601f8401601f1916850186610f87565b82855283838301011161010457826111949385019101610df2565b606082015290565b8181106111a7575050565b5f815560010161119c565b9190601f81116111c157505050565b6111eb925f5260205f20906020601f840160051c830193106111ed575b601f0160051c019061119c565b565b90915081906111de565b8054821015611210575f52600360205f20910201905f90565b634e487b7160e01b5f52603260045260245ffd5b80518210156112105760209160051b010190565b6112406113b9565b6001600160a01b039182169116819003611378575f5260206002602052604091825f2080549182158015611370575b61134a5782811115611344575081925b61128884610fa9565b9461129581519687610f87565b848652601f196112a486610fa9565b01905f5b82811061131d5750505050828203918211611309575f5b8381106112cd575050505090565b80830190818411611309576112ed6112e7600193856111f7565b5061108a565b6112f78288611224565b526113028187611224565b50016112bf565b634e487b7160e01b5f52601160045260245ffd5b8390825161132a81610f1f565b5f81525f8382015260608482015282828b010152016112a8565b9261127f565b50505050805190602082019082821067ffffffffffffffff831117610f3b57525f815290565b50801561126f565b6040516302ec023d60e51b8152600490fd5b5f8051602061141383398151915260028154146113a75760029055565b604051633ee5aeb560e01b8152600490fd5b6014361015806113e0575b156113dc576013193601368111610104573560601c90565b3390565b50337f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316146113c456fe9b779b17422d0df92223018b32b4d1fa46e071723d6817e2486d003becc55f00a2646970667358221220aa8cedfb846d9c039fb4123f5b28407bb3168e2545fe7f8f293111404bc56ab864736f6c63430008180033","sourceMap":"1024:19352:53:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;2929:57;-1:-1:-1;;;;;1024:19352:53;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;-1:-1:-1;;;;;1024:19352:53;;:::i;:::-;;;;14577:16;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2989:103:38;;;;;:::i;:::-;19850:27:53;;:::i;:::-;1024:19352;;-1:-1:-1;;;6810:51:53;;-1:-1:-1;;;;;1024:19352:53;;;6810:51;;;1024:19352;;;;6810:51;;;1024:19352;;;6810:23;1024:19352;;6810:51;;;;;;;1024:19352;6810:51;;;1024:19352;6809:52;;6805:112;;19850:27;;;:::i;:::-;1024:19352;;;7401:16;1024:19352;;;;;;;;;;7397:92;;9892:25;;9888:81;;19850:27;;:::i;:::-;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;10395:58;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;10208:171;;;10041:15;1024:19352;;10208:171;;;10041:15;1024:19352;;10208:171;;;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;10041:15;1024:19352;;;;10395:58;-1:-1:-1;;;;;;;;;;;1024:19352:53;;;;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;10395:58;1024:19352;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9888:81;1024:19352;;;;10868:18;;;9940;;;7397:92;1024:19352;;;;7456:22;;;;;;6805:112;-1:-1:-1;;1024:19352:53;-1:-1:-1;;;6884:22:53;;;6810:51;;;;;;;;;;;;;;;;:::i;:::-;;;1024:19352;;;;;;;:::i;:::-;6810:51;;;;;;;;;1024:19352;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;-1:-1:-1;;;;;1024:19352:53;;:::i;:::-;;;;16905:11;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;1707:17:24;-1:-1:-1;;;;;1024:19352:53;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;2989:103:38;;:::i;:::-;-1:-1:-1;;;;;1024:19352:53;;19850:27;;:::i;:::-;1024:19352;;;7113:16;1024:19352;;;;;;;;7112:33;7108:88;;19850:27;1024:19352;12037:36;19850:27;;;:::i;:::-;1024:19352;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;7113:16;1024:19352;;;11924:36;1024:19352;;;;;;;;;;11651:15;11865:35;;;1024:19352;11924:36;1024:19352;;11651:15;1024:19352;;12037:36;7113:16;-1:-1:-1;;;;;;;;;;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7113:16;1024:19352;;;:::i;:::-;;;;;7108:88;1024:19352;;-1:-1:-1;;;7168:17:53;;;1024:19352;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;:::i;:::-;-1:-1:-1;;;;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;7112:33;7108:88;;19850:27;;:::i;:::-;1024:19352;;;;;14079:19;14075:216;;1024:19352;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;;;;;;:::i;14075:216::-;1024:19352;;-1:-1:-1;;;14134:54:53;;-1:-1:-1;;;;;1024:19352:53;;;14134:54;;;1024:19352;;;;;;;;;;;;;;;;;;;;;14134:54;:23;;1024:19352;14134:54;;;;;;;1024:19352;14134:54;;;14075:216;14206:10;;14202:79;;14075:216;;;;;14202:79;1024:19352;;-1:-1:-1;;;14243:23:53;;;14134:54;;;;;;1024:19352;14134:54;;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;1024:19352;;;;;;;;;7108:88;1024:19352;;-1:-1:-1;;;7168:17:53;;1024:19352;;7168:17;1024:19352;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;;;:::i;:::-;;;;;;;;1707:17:24;;;1024:19352:53;;;1931:31:24;1024:19352:53;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;-1:-1:-1;;;;;1024:19352:53;;:::i;:::-;;;;15228:16;1024:19352;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;15228:16;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2989:103:38;;;;;:::i;:::-;-1:-1:-1;;;;;1024:19352:53;;19850:27;;:::i;:::-;1024:19352;;;7113:16;1024:19352;;;;;;;;;;;;7112:33;7108:88;;10820:25;;10816:81;;19850:27;;:::i;:::-;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;11246:58;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;11171:36;1024:19352;;;10969:15;11112:35;;;1024:19352;11171:36;1024:19352;;;;;;10969:15;1024:19352;;;;11246:58;-1:-1:-1;;;;;;;;;;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;11246:58;1024:19352;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;7108:88;1024:19352;;;;7168:17;;;;;;1024:19352;;;;;;;;;;;;;;;;;;:::i;:::-;19850:27;;;:::i;:::-;-1:-1:-1;;;;;1024:19352:53;;;;;16534:23;;;16530:78;;1024:19352;;;16624:11;1024:19352;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;16530:78;1024:19352;;-1:-1:-1;;;16580:17:53;;;1024:19352;;;;;;;;;;;;;;;;;;:::i;:::-;2989:103:38;;:::i;:::-;1024:19352:53;;;;;;;;;;;;;7113:16;1024:19352;;;;;;;;;;7112:33;7108:88;;19850:27;;:::i;:::-;1024:19352;;;;13109:19;;;;;;;13105:295;;1024:19352;-1:-1:-1;;13466:37:53;;;1024:19352;;;;;:::i;:::-;;;;-1:-1:-1;;;1024:19352:53;;;;13466:37;;1024:19352;;;18863:11;1024:19352;;;;;;;;;;;;:::i;:::-;;;;18889:125;;;18829:15;;1024:19352;;18889:125;;;1024:19352;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;-1:-1:-1;;;;;;1024:19352:53;;;;;;;;;;;;;;;18863:11;1024:19352;;;;;;;;;;;;;;;;;:::i;:::-;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;19034:11;1024:19352;;;;;;;;;;;;;;;;;19080:59;1024:19352;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;18829:15;1024:19352;;;;19080:59;;;1024:19352;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;-1:-1:-1;;;;;;;;;;;1024:19352:53;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;13466:37;1024:19352;;;;;:::i;:::-;;;;-1:-1:-1;;;1024:19352:53;;;;13466:37;;;13105:295;1024:19352;;-1:-1:-1;;;13243:54:53;;-1:-1:-1;;;;;1024:19352:53;;;13243:54;;;1024:19352;;;;;;;;;;;;;;;;;;;13243:54;:23;;;1024:19352;13243:54;;;;;;;1024:19352;13243:54;;;13105:295;13315:10;;13311:79;;13105:295;;;;13311:79;-1:-1:-1;1024:19352:53;;-1:-1:-1;;;13352:23:53;;;13243:54;;;;;;1024:19352;13243:54;;;;;;:::i;:::-;;;;;;1024:19352;;;;;;;;;7108:88;1024:19352;;-1:-1:-1;;;7168:17:53;;;1024:19352;;;;;;;-1:-1:-1;;1024:19352:53;;;;-1:-1:-1;;;;;19850:27:53;;:::i;:::-;1024:19352;;;;16134:11;1024:19352;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;-1:-1:-1;;1024:19352:53;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1024:19352:53;;;;;;:::o;:::-;;;-1:-1:-1;;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;-1:-1:-1;1024:19352:53;;;;;-1:-1:-1;1024:19352:53;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;-1:-1:-1;;;1024:19352:53;;;;;;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1024:19352:53;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;:::o;:::-;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;1024:19352:53;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;:::o;:::-;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;-1:-1:-1;1024:19352:53;;;-1:-1:-1;1024:19352:53;;;;;-1:-1:-1;1024:19352:53;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;17192:770::-;19850:27;;:::i;:::-;-1:-1:-1;;;;;1024:19352:53;;;;;17342:23;;;17338:78;;-1:-1:-1;1024:19352:53;;17453:11;1024:19352;;;;;-1:-1:-1;1024:19352:53;;;17537:14;;;:28;;;;17192:770;17533:84;;17649:17;;;;;;:37;;;;1024:19352;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;;1024:19352:53;;;:::i;:::-;;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;-1:-1:-1;17845:15:53;;;;;;17942:13;;;;17192:770;:::o;17862:3::-;1024:19352;;;;;;;;;;17893:20;1024:19352;17893:20;;;:::i;:::-;1024:19352;;:::i;:::-;17881:32;;;;:::i;:::-;;;;;;:::i;:::-;;1024:19352;17830:13;;1024:19352;;;;-1:-1:-1;1024:19352:53;;;;;-1:-1:-1;1024:19352:53;;;;;;;;;:::i;:::-;-1:-1:-1;1024:19352:53;;-1:-1:-1;1024:19352:53;;;;;;;;;;;;;;;;;;17649:37;;;;17533:84;1024:19352;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;1024:19352:53;;17581:25;:::o;17537:28::-;17555:10;;;17537:28;;17338:78;1024:19352;;-1:-1:-1;;;17388:17:53;;;;;3749:292:38;-1:-1:-1;;;;;;;;;;;2407:1:38;1024:19352:53;;4560:63:38;3644:93;;2407:1;1024:19352:53;;3749:292:38:o;3644:93::-;1024:19352:53;;-1:-1:-1;;;3696:30:38;;;;;2206:471:24;3567:2;2312:8;2403:37;;:71;;;2206:471;2399:272;;;1024:19352:53;;2312:8:24;1024:19352:53;2312:8:24;1024:19352:53;;;;;;;2518:72:24;:::o;2399:272::-;735:10:33;2635:25:24;:::o;2403:71::-;-1:-1:-1;2463:10:24;1707:17;-1:-1:-1;;;;;1024:19352:53;1931:31:24;2403:71;","linkReferences":{},"immutableReferences":{"40505":[{"start":1131,"length":32},{"start":1814,"length":32},{"start":5092,"length":32}],"52552":[{"start":213,"length":32},{"start":399,"length":32},{"start":1635,"length":32},{"start":3306,"length":32}]}},"methodIdentifiers":{"accessCount(address)":"7d91220b","deleteProfile()":"6d4540eb","getAccessCount(address)":"976c6602","getAccessHistory()":"07b2b358","getAccessHistoryFor(address)":"284fd724","getProfile(address)":"0f53a470","getProfileMetadata(address)":"403e2707","getProfileView(address)":"67b8bdab","getRecentAccessLogs(address,uint256)":"85960919","hasProfile(address)":"a787c80b","isTrustedForwarder(address)":"572b6c05","patientIdentityContract()":"e653b1de","setProfile(bytes)":"a4a9bd36","trustedForwarder()":"7da0a877","updateProfile(bytes)":"3354c373"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_patientIdentityContract\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_trustedForwarder\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"EmptyProfileData\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidPatientIdentityContract\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotAuthorizedToAccess\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotPatientOwner\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PatientNotRegistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ProfileAlreadyExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ProfileNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ReentrancyGuardReentrantCall\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"accessor\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"accessType\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ProfileAccessed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"dataLength\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ProfileCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ProfileDeleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"dataLength\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"ProfileUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"accessCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"deleteProfile\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"getAccessCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAccessHistory\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"accessor\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"accessType\",\"type\":\"string\"}],\"internalType\":\"struct MedichainPatientProfile.AccessLog[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"getAccessHistoryFor\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"accessor\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"accessType\",\"type\":\"string\"}],\"internalType\":\"struct MedichainPatientProfile.AccessLog[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"getProfile\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"getProfileMetadata\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dataLength\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"getProfileView\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"name\":\"getRecentAccessLogs\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"accessor\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"accessType\",\"type\":\"string\"}],\"internalType\":\"struct MedichainPatientProfile.AccessLog[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"patient\",\"type\":\"address\"}],\"name\":\"hasProfile\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"patientIdentityContract\",\"outputs\":[{\"internalType\":\"contract IPatientIdentity\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"}],\"name\":\"setProfile\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"trustedForwarder\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"encryptedData\",\"type\":\"bytes\"}],\"name\":\"updateProfile\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Medichain Development Team\",\"details\":\"Integrates with MedichainPatientIdentity for access control  Key Features: - Encrypted profile storage (data encrypted off-chain before storing) - Patient-controlled CRUD operations - Access control via PatientIdentity contract - Complete audit trail of all profile accesses - ERC-2771 Meta-Transaction Support (Gasless Transactions)  Data Flow: 1. Patient encrypts profile data off-chain using wallet-derived key 2. Patient calls setProfile() with encrypted bytes 3. Hospital with approved access calls getProfile() 4. Hospital decrypts data using shared key established during access grant\",\"errors\":{\"EmptyProfileData()\":[{\"details\":\"Thrown when empty data is provided\"}],\"InvalidPatientIdentityContract()\":[{\"details\":\"Thrown when invalid contract address is provided\"}],\"NotAuthorizedToAccess()\":[{\"details\":\"Thrown when accessor doesn't have permission\"}],\"NotPatientOwner()\":[{\"details\":\"Thrown when caller is not the patient owner\"}],\"PatientNotRegistered()\":[{\"details\":\"Thrown when patient doesn't have identity NFT\"}],\"ProfileAlreadyExists()\":[{\"details\":\"Thrown when trying to create a profile that already exists\"}],\"ProfileNotFound()\":[{\"details\":\"Thrown when trying to access/update a non-existent profile\"}],\"ReentrancyGuardReentrantCall()\":[{\"details\":\"Unauthorized reentrant call.\"}]},\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_patientIdentityContract\":\"Address of the MedichainPatientIdentity contract\",\"_trustedForwarder\":\"Address of the ERC-2771 trusted forwarder for gasless tx\"}},\"deleteProfile()\":{\"details\":\"Only the patient can delete their own profileThis action is irreversible\"},\"getAccessCount(address)\":{\"params\":{\"patient\":\"Address of patient\"},\"returns\":{\"_0\":\"Number of access events\"}},\"getAccessHistory()\":{\"details\":\"Only the patient can view their own access history\",\"returns\":{\"_0\":\"Array of all access events\"}},\"getAccessHistoryFor(address)\":{\"details\":\"Only the patient themselves can call this\",\"params\":{\"patient\":\"Address of the patient\"},\"returns\":{\"_0\":\"Array of all access events\"}},\"getProfile(address)\":{\"details\":\"Caller must be: patient themselves OR hospital with approved accessLogs access for audit trail\",\"params\":{\"patient\":\"Address of the patient\"},\"returns\":{\"encryptedData\":\"The encrypted profile bytes\"}},\"getProfileMetadata(address)\":{\"params\":{\"patient\":\"Address of the patient\"},\"returns\":{\"createdAt\":\"Timestamp when profile was created\",\"dataLength\":\"Length of encrypted data\",\"exists\":\"Whether profile exists\",\"updatedAt\":\"Timestamp of last update\"}},\"getProfileView(address)\":{\"details\":\"Same access control but doesn't log (for preview/check operations)\",\"params\":{\"patient\":\"Address of the patient\"},\"returns\":{\"encryptedData\":\"The encrypted profile bytes\"}},\"getRecentAccessLogs(address,uint256)\":{\"details\":\"Only patient can call this\",\"params\":{\"count\":\"Number of recent logs to retrieve\",\"patient\":\"Address of patient\"},\"returns\":{\"_0\":\"Array of recent access events\"}},\"hasProfile(address)\":{\"params\":{\"patient\":\"Address to check\"},\"returns\":{\"_0\":\"True if profile exists\"}},\"isTrustedForwarder(address)\":{\"details\":\"Indicates whether any particular address is the trusted forwarder.\"},\"setProfile(bytes)\":{\"details\":\"Patient must have identity NFT before calling thisData should be encrypted off-chain using wallet-derived key  Expected encrypted data format (before encryption): {   \\\"name\\\": \\\"John Doe\\\",   \\\"nik\\\": \\\"3201234567890001\\\",   \\\"bloodType\\\": \\\"O+\\\",   \\\"gender\\\": \\\"Male\\\",   \\\"dateOfBirth\\\": \\\"1990-05-15\\\",   \\\"emergencyContact\\\": \\\"+62812345678\\\",   \\\"allergies\\\": [\\\"Penicillin\\\"],   \\\"version\\\": 1 }\",\"params\":{\"encryptedData\":\"AES-encrypted JSON containing profile data\"}},\"trustedForwarder()\":{\"details\":\"Returns the address of the trusted forwarder.\"},\"updateProfile(bytes)\":{\"details\":\"Only the patient can update their own profile\",\"params\":{\"encryptedData\":\"New AES-encrypted JSON containing updated profile data\"}}},\"stateVariables\":{\"_accessLogs\":{\"details\":\"Key: patient address, Value: array of access log entries\"},\"_encryptedProfiles\":{\"details\":\"Key: patient address, Value: AES-encrypted JSON bytes\"}},\"title\":\"MedichainPatientProfile\",\"version\":1},\"userdoc\":{\"events\":{\"ProfileAccessed(address,address,string,uint256)\":{\"notice\":\"Emitted when a profile is accessed\"},\"ProfileCreated(address,uint256,uint256)\":{\"notice\":\"Emitted when a new profile is created\"},\"ProfileDeleted(address,uint256)\":{\"notice\":\"Emitted when a profile is deleted\"},\"ProfileUpdated(address,uint256,uint256)\":{\"notice\":\"Emitted when a profile is updated\"}},\"kind\":\"user\",\"methods\":{\"accessCount(address)\":{\"notice\":\"Total access count per patient (gas-efficient counter)\"},\"constructor\":{\"notice\":\"Initializes the MedichainPatientProfile contract\"},\"deleteProfile()\":{\"notice\":\"Delete profile permanently\"},\"getAccessCount(address)\":{\"notice\":\"Get total number of times profile was accessed\"},\"getAccessHistory()\":{\"notice\":\"Get access history for the calling patient\"},\"getAccessHistoryFor(address)\":{\"notice\":\"Get access history for a specific patient (admin view)\"},\"getProfile(address)\":{\"notice\":\"Get encrypted profile data\"},\"getProfileMetadata(address)\":{\"notice\":\"Get profile metadata without accessing the actual data\"},\"getProfileView(address)\":{\"notice\":\"Get profile without logging (view function for checks)\"},\"getRecentAccessLogs(address,uint256)\":{\"notice\":\"Get the last N access logs (for pagination)\"},\"hasProfile(address)\":{\"notice\":\"Check if patient has profile on-chain\"},\"patientIdentityContract()\":{\"notice\":\"Reference to PatientIdentity contract for access control\"},\"setProfile(bytes)\":{\"notice\":\"Create a new encrypted profile\"},\"updateProfile(bytes)\":{\"notice\":\"Update existing encrypted profile\"}},\"notice\":\"Stores encrypted patient profile data on-chain for cross-device access\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/MedichainPatientProfile.sol\":\"MedichainPatientProfile\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/metatx/ERC2771Context.sol\":{\"keccak256\":\"0xfdb17e982a8744014f1804df7cacdd01f1423d19d79645da61def434eb17e4f3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4b626c1803f1bd5739859d1fe12bedb8c2c964a1f93e70d6f8c3c031d338d4e3\",\"dweb:/ipfs/QmacvfA17VWEhUApA4NykdWRC1koBXqvUdgCH13ZahmRxm\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol\":{\"keccak256\":\"0xa516cbf1c7d15d3517c2d668601ce016c54395bf5171918a14e2686977465f53\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1e1d079e8edfb58efd23a311e315a4807b01b5d1cf153f8fa2d0608b9dec3e99\",\"dweb:/ipfs/QmTBExeX2SDTkn5xbk5ssbYSx7VqRp9H4Ux1CY4uQM4b9N\"]},\"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]},\"src/MedichainPatientProfile.sol\":{\"keccak256\":\"0x701d6f856fbb806a62645b098fc02c491a267f68d88b938eb4011bf5cd1bcbaf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd4968e86ad677882d4f6086a41e10f3767de17e34f2e00be521a74c7b7788dc\",\"dweb:/ipfs/Qmdhb2SfsBAWBDFnSPZq8SBECTZwdgg9bZKGHbMqN21m9A\"]},\"src/interfaces/IPatientIdentity.sol\":{\"keccak256\":\"0x4bfb8583f96b4da1db170b87beb0ebdb28e3adcd75ee1a6d47aa8919d08894cb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://1e4e5a4b61c7232ba6ff147161429a70e1ed1355bc9ff7e32aff91721fe79b04\",\"dweb:/ipfs/QmNShSutU9BdDQ36HgZWFDkKpsHxEVBRsoH6ZRjxEExnCi\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_patientIdentityContract","type":"address"},{"internalType":"address","name":"_trustedForwarder","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"EmptyProfileData"},{"inputs":[],"type":"error","name":"InvalidPatientIdentityContract"},{"inputs":[],"type":"error","name":"NotAuthorizedToAccess"},{"inputs":[],"type":"error","name":"NotPatientOwner"},{"inputs":[],"type":"error","name":"PatientNotRegistered"},{"inputs":[],"type":"error","name":"ProfileAlreadyExists"},{"inputs":[],"type":"error","name":"ProfileNotFound"},{"inputs":[],"type":"error","name":"ReentrancyGuardReentrantCall"},{"inputs":[{"internalType":"address","name":"patient","type":"address","indexed":true},{"internalType":"address","name":"accessor","type":"address","indexed":true},{"internalType":"string","name":"accessType","type":"string","indexed":false},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"ProfileAccessed","anonymous":false},{"inputs":[{"internalType":"address","name":"patient","type":"address","indexed":true},{"internalType":"uint256","name":"dataLength","type":"uint256","indexed":false},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"ProfileCreated","anonymous":false},{"inputs":[{"internalType":"address","name":"patient","type":"address","indexed":true},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"ProfileDeleted","anonymous":false},{"inputs":[{"internalType":"address","name":"patient","type":"address","indexed":true},{"internalType":"uint256","name":"dataLength","type":"uint256","indexed":false},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"ProfileUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"accessCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"deleteProfile"},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"view","type":"function","name":"getAccessCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAccessHistory","outputs":[{"internalType":"struct MedichainPatientProfile.AccessLog[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"accessor","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"string","name":"accessType","type":"string"}]}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"view","type":"function","name":"getAccessHistoryFor","outputs":[{"internalType":"struct MedichainPatientProfile.AccessLog[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"accessor","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"string","name":"accessType","type":"string"}]}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"getProfile","outputs":[{"internalType":"bytes","name":"encryptedData","type":"bytes"}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"view","type":"function","name":"getProfileMetadata","outputs":[{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"uint256","name":"createdAt","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"uint256","name":"dataLength","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"view","type":"function","name":"getProfileView","outputs":[{"internalType":"bytes","name":"encryptedData","type":"bytes"}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"},{"internalType":"uint256","name":"count","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRecentAccessLogs","outputs":[{"internalType":"struct MedichainPatientProfile.AccessLog[]","name":"","type":"tuple[]","components":[{"internalType":"address","name":"accessor","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"string","name":"accessType","type":"string"}]}]},{"inputs":[{"internalType":"address","name":"patient","type":"address"}],"stateMutability":"view","type":"function","name":"hasProfile","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"stateMutability":"view","type":"function","name":"isTrustedForwarder","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"patientIdentityContract","outputs":[{"internalType":"contract IPatientIdentity","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes","name":"encryptedData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"setProfile"},{"inputs":[],"stateMutability":"view","type":"function","name":"trustedForwarder","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes","name":"encryptedData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"updateProfile"}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_patientIdentityContract":"Address of the MedichainPatientIdentity contract","_trustedForwarder":"Address of the ERC-2771 trusted forwarder for gasless tx"}},"deleteProfile()":{"details":"Only the patient can delete their own profileThis action is irreversible"},"getAccessCount(address)":{"params":{"patient":"Address of patient"},"returns":{"_0":"Number of access events"}},"getAccessHistory()":{"details":"Only the patient can view their own access history","returns":{"_0":"Array of all access events"}},"getAccessHistoryFor(address)":{"details":"Only the patient themselves can call this","params":{"patient":"Address of the patient"},"returns":{"_0":"Array of all access events"}},"getProfile(address)":{"details":"Caller must be: patient themselves OR hospital with approved accessLogs access for audit trail","params":{"patient":"Address of the patient"},"returns":{"encryptedData":"The encrypted profile bytes"}},"getProfileMetadata(address)":{"params":{"patient":"Address of the patient"},"returns":{"createdAt":"Timestamp when profile was created","dataLength":"Length of encrypted data","exists":"Whether profile exists","updatedAt":"Timestamp of last update"}},"getProfileView(address)":{"details":"Same access control but doesn't log (for preview/check operations)","params":{"patient":"Address of the patient"},"returns":{"encryptedData":"The encrypted profile bytes"}},"getRecentAccessLogs(address,uint256)":{"details":"Only patient can call this","params":{"count":"Number of recent logs to retrieve","patient":"Address of patient"},"returns":{"_0":"Array of recent access events"}},"hasProfile(address)":{"params":{"patient":"Address to check"},"returns":{"_0":"True if profile exists"}},"isTrustedForwarder(address)":{"details":"Indicates whether any particular address is the trusted forwarder."},"setProfile(bytes)":{"details":"Patient must have identity NFT before calling thisData should be encrypted off-chain using wallet-derived key  Expected encrypted data format (before encryption): {   \"name\": \"John Doe\",   \"nik\": \"3201234567890001\",   \"bloodType\": \"O+\",   \"gender\": \"Male\",   \"dateOfBirth\": \"1990-05-15\",   \"emergencyContact\": \"+62812345678\",   \"allergies\": [\"Penicillin\"],   \"version\": 1 }","params":{"encryptedData":"AES-encrypted JSON containing profile data"}},"trustedForwarder()":{"details":"Returns the address of the trusted forwarder."},"updateProfile(bytes)":{"details":"Only the patient can update their own profile","params":{"encryptedData":"New AES-encrypted JSON containing updated profile data"}}},"version":1},"userdoc":{"kind":"user","methods":{"accessCount(address)":{"notice":"Total access count per patient (gas-efficient counter)"},"constructor":{"notice":"Initializes the MedichainPatientProfile contract"},"deleteProfile()":{"notice":"Delete profile permanently"},"getAccessCount(address)":{"notice":"Get total number of times profile was accessed"},"getAccessHistory()":{"notice":"Get access history for the calling patient"},"getAccessHistoryFor(address)":{"notice":"Get access history for a specific patient (admin view)"},"getProfile(address)":{"notice":"Get encrypted profile data"},"getProfileMetadata(address)":{"notice":"Get profile metadata without accessing the actual data"},"getProfileView(address)":{"notice":"Get profile without logging (view function for checks)"},"getRecentAccessLogs(address,uint256)":{"notice":"Get the last N access logs (for pagination)"},"hasProfile(address)":{"notice":"Check if patient has profile on-chain"},"patientIdentityContract()":{"notice":"Reference to PatientIdentity contract for access control"},"setProfile(bytes)":{"notice":"Create a new encrypted profile"},"updateProfile(bytes)":{"notice":"Update existing encrypted profile"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/MedichainPatientProfile.sol":"MedichainPatientProfile"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/metatx/ERC2771Context.sol":{"keccak256":"0xfdb17e982a8744014f1804df7cacdd01f1423d19d79645da61def434eb17e4f3","urls":["bzz-raw://4b626c1803f1bd5739859d1fe12bedb8c2c964a1f93e70d6f8c3c031d338d4e3","dweb:/ipfs/QmacvfA17VWEhUApA4NykdWRC1koBXqvUdgCH13ZahmRxm"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/ReentrancyGuard.sol":{"keccak256":"0xa516cbf1c7d15d3517c2d668601ce016c54395bf5171918a14e2686977465f53","urls":["bzz-raw://1e1d079e8edfb58efd23a311e315a4807b01b5d1cf153f8fa2d0608b9dec3e99","dweb:/ipfs/QmTBExeX2SDTkn5xbk5ssbYSx7VqRp9H4Ux1CY4uQM4b9N"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"},"src/MedichainPatientProfile.sol":{"keccak256":"0x701d6f856fbb806a62645b098fc02c491a267f68d88b938eb4011bf5cd1bcbaf","urls":["bzz-raw://bd4968e86ad677882d4f6086a41e10f3767de17e34f2e00be521a74c7b7788dc","dweb:/ipfs/Qmdhb2SfsBAWBDFnSPZq8SBECTZwdgg9bZKGHbMqN21m9A"],"license":"MIT"},"src/interfaces/IPatientIdentity.sol":{"keccak256":"0x4bfb8583f96b4da1db170b87beb0ebdb28e3adcd75ee1a6d47aa8919d08894cb","urls":["bzz-raw://1e4e5a4b61c7232ba6ff147161429a70e1ed1355bc9ff7e32aff91721fe79b04","dweb:/ipfs/QmNShSutU9BdDQ36HgZWFDkKpsHxEVBRsoH6ZRjxEExnCi"],"license":"MIT"}},"version":1},"id":53}